# 一夜终极狼人发牌器

这是一个专为《一夜终极狼人》桌游设计的发牌程序，可帮助玩家快速开始游戏并管理游戏流程。程序提供图形界面与命令行两种操作方式，并支持角色配置、自动发牌、夜晚阶段指引等核心功能。

## 功能特性

- **自动发牌**：根据玩家人数与选择的难度模式自动分配角色
- **夜晚指引**：逐步提示各角色执行夜晚行动
- **角色管理**：支持自定义角色配置与扩展
- **双界面支持**：提供 Tkinter 与 Qt 图形界面（优先使用 Qt）
- **牌面查看**：允许玩家查看与交换自己的角色牌及中央牌

## 项目结构

```
wolf/
├── core/               # 核心发牌逻辑与游戏规则
├── gui/                # 图形界面模块（Tkinter 与 Qt）
├── main.py             # 程序入口，自动选择界面
├── resources/roles/    # 角色图片资源
├── resources/roles_config.json  # 角色配置文件
└── tests/              # 单元测试
```

## 安装与运行

### 依赖项

- Python 3.9 或更高版本
- tkinter（标准库，通常已内置）
- PyQt5（可选，用于 Qt 界面）

```bash
pip install pyqt5
```

### 运行程序

```bash
# 进入项目目录
cd wolf

# 直接运行
python main.py
```

程序会优先尝试启动 Qt 界面，若失败则自动回退到 Tkinter 界面。

## 使用说明

1. **选择角色**：在主界面选择角色或使用默认配置
2. **开始游戏**：点击“开始局”按钮，程序将自动发牌
3. **夜晚阶段**：点击“夜晚模式”逐步执行角色行动
4. **查看与交换**：玩家可点击自己的牌或中央牌进行查看或交换
5. **结束游戏**：可随时查看所有牌面或重新开始游戏

## 单元测试

项目包含基础单元测试，验证发牌逻辑与规则配置：

```bash
# 运行测试
python -m unittest tests/test_dealer.py
python -m unittest tests/test_rules.py
```

## 配置说明

角色配置文件位于 `resources/roles_config.json`，支持自定义角色与模式。默认规则已涵盖 4~9 人基础配置。

## 可扩展性

- 可通过修改 `roles_config.json` 添加新角色
- 支持扩展 `core/werewolf_dealer.py` 中的逻辑以实现新功能
- 可自定义界面样式或替换背景图片

## 贡献与反馈

欢迎提交 Issue 或 Pull Request 来改进项目。请遵循项目结构与编码规范。

## 许可证

本项目遵循 MIT 许可证。详情请查看 LICENSE 文件。